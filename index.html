<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html lang="en"> 
    <head> 
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
        <title>Project Slightly Less Awesome</title> 
        <script src="raphael-min.js" type="text/javascript" charset="utf-8"></script> 
        <script src="pms-tree.js" type="text/javascript" charset="utf-8"></script> 
		<style type='text/css'>
			#text-area {
				width: 300px;
				height: 500px;
				float: left;
				border: 5px solid black;
			}
			#holder {
				width: 400px;
				height: 500px;
				float: left;
				border: 5px solid blue;
			}
			#text-tree {
				width: 250px;
				height: 450px;
				margin-left: 10px;
				margin-top: 10px;
			}

		</style>
		<script type='text/javascript'>
			var paperWidth 		= 400;
			var paperHeight 	= 500;
			var paper 			= undefined;

			// These are some test strings.
			var testStrings = new Array();
			testStrings[0] = 
				'*' + "\n" +
				'**' + "\n" +
				'**' + "\n" +
				'***' + "\n" +
				'****' + "\n" +
				'****' + "\n" +
				'***' + "\n" +
				'**' + "\n" +
				'***' + "\n" +
				'***' + "\n" +
				'*' + "\n" +
				'**' + "\n" +
				'**' + "\n" +
				'**';

			testStrings[1] = 
				'#' + "\n" +
				'##' + "\n" +
				'##' + "\n" +
				'###' + "\n" +
				'####' + "\n" +
				'####' + "\n" +
				'###' + "\n" +
				'##' + "\n" +
				'###' + "\n" +
				'###' + "\n" +
				'#' + "\n" +
				'##' + "\n" +
				'##' + "\n" +
				'##';


			window.onload = function() {

				paper = Raphael( 'holder', paperWidth, paperHeight );

				//alert( window.location.search.substring(1) );
				testString = testStrings[ window.location.search.substring(1) ];

				document.getElementById( 'text-tree' ).value = testString;


			}


			function buttonClick() {
				var text 		= document.getElementById( 'text-tree' ).value;
				var myProject 	= new Project();

				paper.clear();

				myProject.parseTasks( text );
				myProject.render( paper, 40, 40 );

			}
		</script>
    </head> 
    <body> 
		<div id='text-area'>
			<textarea id='text-tree'></textarea>
			<button onclick="buttonClick();">Save</button>
		</div>
        <div id="holder"></div> 
    </body> 
</html> 
